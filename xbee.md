# XBeeの管理法
>回路班:川上　輝

# 概論
　XBeeは2.4GHz帯の無線機器で、UARTというシリアル通信を行うことができます。しかし、XBeeはどの帯域を使うか、どの識別子を使うか、と言った設定が必要です。そのため、X-CTUやATコマンドを用いて、適切な設定を行います。

# 環境構築
## ソフトウェア編
1. インターネット環境で`https://www.digi.com/support/productdetail?pid=3352`より`X-CTU`をダウンロードし、インストールを行ってください。個人的にはレガシー版が好きですが、最新版のほうが一般ウケすると思われます。
2. (Windows)FT232を用いてX-CTUに接続する場合は、インターネット環境であれば特に問題ありませんが、オフライン環境で初接続すると、正しくドライバーがインストールされません。もし、ドライバーがインストールされなかった場合、`http://www.ftdichip.com/Drivers/VCP.htm`から適切なドライバーをダウンロードし、デバイスマネージャからインストールを行ってください。

## ハードウェア編
1. XBeeの配線を要約すると以下のようになっています。

|番号|ピン名称|機能|コメント|
|:--:|:---:|:----:|:--:|
|1|VCC|電源|3.3V|
|2|DOUT|TX|データが出力されます|
|3|DIN|RX|データを入力します|
|4|nReset|リセット|XBeeの設定時に利用します|
|10|GND|グランド||
|12|CTS|送信許可||
|16|nRTS|送信リクエスト||

必須配線:VCC,GND,TX,RX
推奨配線:nReset
参考:http://nanoappli.com/blog/archives/4191

2.通信デバイスとの接続は以下のように行う。なお、3.3Vロジックであることに注意をしてほしい。素子を破壊する可能性がある。
```c
XBee::TX->Device::RX
XBee::RX<-Device::TX
XBee::CTS->Device::RTS
XBee::RTS<-Device::CTS
```
3.nResetの処置
プッシュスイッチ等でプルダウンするように配線してください。
```c
XBee::nReset<-Switch<-GND
```

4.回路設計に関する注意事項及びメモ
+ 通常のピン間隔`2.54[mm/pitch]`ですが、XBeeのピン配置は`2[mm/pitch]`です。そのため、ピッチ変換基板が必要です。
+ XBeeは`3.3[V]`ロジックです。
+ Reset端子は書き込み時に頻繁に利用するため、配線することをおすすめします。
+ CTS/RTSはXBeeのバッファーオーバを防ぐものです。余力があれば配線しましょう。

# 設定編
1. XBeeをシリアル通信を行えるように配線してください。
(TODO 手持ちにデバイスがないので後日記述)
